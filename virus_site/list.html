<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NCBI Clone</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;}
        .hed {
            position: fixed;
            width: 100%;
        }
        .lh{
            display: flex;
            justify-content:left;
            align-items: center;
            background-color: #161939;
            padding: 10px 20px;
            width: 100%;
        }
        /* Style for the main heading (OrthoHantavirus) */
        .main-heading {
            text-align: justify;
            background-color: #161939;
            color: white;
            font-size: 28px;
            font-weight: bolder;
            z-index: 999; /* Ensure it stays above other elements */

        }

        /* Style for the fixed navigation bar */
        .heading {
            background-color: rgba(233, 228, 228, 0.5); /* 50% Transparency */

            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            width: 100%;
            height: 56px;
            z-index: 999; /* Ensure it stays above other elements */

        }

        /* Logo Styling */
        .logo img {
            height: 40px; /* Adjust logo size */
            margin-right: 20px;
            border-radius: 100%;
        }

        /* Remove bullets and arrange items in a row */
        .navbar ul {
            list-style: none;
            display: flex;
        }

        /* Space out menu items */
        .navbar li {
            margin: 0 15px;
        }

        /* Style for navbar links */
        .navbar a {
            text-decoration: none;
            color: rgb(4, 4, 4);
            font-size: 18px;
            padding: 10px 15px;
        }

        .navbar a:hover {
            background-color: rgba(83, 69, 69, 0.3);
            border-radius: 5px;
        }

        /* Main Container for Sidebar and Content */
        .main-container {
            display: flex;
            align-items: flex-start;
        }

        /* Sidebar Filter */
        .filter-sidebar {
            width: 250px;
            background-color:  rgba(24, 94, 59, 0.4);
            padding: 16px;
            border-right: 1px solid #ddd;
            position:sticky;
            top: 200px; /* Adjust based on your layout */
            max-height: calc(100vh - 100px); /* Prevents overlap with footer */
            overflow-y: auto;
            z-index: 10;
        }

        .filter-sidebar h3 {
            font-size: 18px;
            margin-bottom: 15px;
        }

        .filter-item {
            margin-bottom: 10px;
        }

        .filter-toggle {
            width: 100%;
            background-color: #e2e6ea;
            border: none;
            padding: 10px;
            font-size: 16px;
            text-align: left;
            cursor: pointer;
        }

        .filter-content {
            display: none;
            padding: 10px 0;
        }

        .filter-content input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        /* Optional: Expand/Collapse Button Style */
        .filter-toggle:after {
            content: '+';
            float: right;
            font-size: 18px;
        }

        .filter-toggle.expanded:after {
            content: '-';
        }

        /* Styling for Filter Options (Radio Buttons) */
        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-top: 10px;
        }

        .filter-options label {
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 124px;
        }

        .filter-options input[type="radio"] {
            margin: 0;
            transform: scale(1.2);
        }

        /* Date Input Style */
        .filter-date {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-top: 10px;
        }

        /* Content Area Styling */
        .content-area {
            flex: 1;
            padding: 20px;
            min-height: 100vh; /* Ensures it fills the height */
        }

        body {
            background-image: url('Images/finalbackground.jpg'); /* Path to your image */
            /* Ensures the image covers the entire screen */
            /* Centers the image */
            /* Fixed background while scrolling */
            margin: 0;
            font-family: Arial, sans-serif;
        }
                table {
                    width: 100%;
                    border-collapse: collapse;
                }
                th, td {
                    border: 1px solid #ddd;
                    padding: 8px;
                    text-align: left;
                }
                th {
                    background-color: #f2f2f2;
                }
                .filter-input {
                    width: 100%;
                    padding: 5px;
                    margin-bottom: 10px;
                    box-sizing: border-box;
                }
    </style>
</head>


<body>
    <div class="hed">
        <!-- Heading Above Navbar -->
        <div class="lh">
            <div class="logo">
                <img src="Images/logo2.png" alt="Logo">
            </div>
            <h1 class="main-heading">OrthoHantaDB</h1>
        </div>
    <!-- Navigation Bar -->
    <header class="heading">
        
        <nav class="navbar">
            <ul>
                <li><a href="#">Overview</a></li>
                <li><a href="#">Database</a></li>
            </ul>
        </nav>
    </header>
    </div>


    <!-- Main Container for Sidebar and Content -->
    <div class="main-container">
    <!-- Filters Sidebar -->
    <div class="filter-sidebar">
        <h3>Filters</h3>
        
        <div class="filter-item">
            <button class="filter-toggle">Accession No.</button>
            <div class="filter-content">
                <input type="text" placeholder="Enter accession(s)">
            </div>
        </div>
        
        <div class="filter-item">
            <button class="filter-toggle">Virus Name</button>
            <div class="filter-content">
                <input type="text" placeholder="Enter virus name">
            </div>
        </div>
        
        <div class="filter-item">
            <button class="filter-toggle">VRL</button>
            <div class="filter-content">
                <input type="text" placeholder="Enter VRL">
            </div>
        </div>
        
        <div class="filter-item">
            <button class="filter-toggle">Species Name</button>
            <div class="filter-content">
                <input type="text" placeholder="Enter species name">
            </div>
        </div>
        
        <div class="filter-item">
            <button class="filter-toggle">Sequence Length</button>
            <div class="filter-content">
                <input type="text" placeholder="Enter sequence length">
            </div>
        </div>
        
        <div class="filter-item">
            <button class="filter-toggle">Geographic Location</button>
            <div class="filter-content">
                <input type="text" placeholder="Enter geographic location">
            </div>
        </div>
        
        <!-- Host Filter with Radio Buttons -->
        <div class="filter-item">
            <button class="filter-toggle">Host</button>
            <div class="filter-content">
                <input type="text" placeholder="Search host..." class="filter-search">
                <div class="filter-options">
                    <label>
                        <input type="radio" name="host" value="humans"> Humans
                    </label>
                    <label>
                        <input type="radio" name="host" value="rodents"> Rodents
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Collection Date Filter -->
        <div class="filter-item">
            <button class="filter-toggle">Collection Date</button>
            <div class="filter-content">
                <input type="date" class="filter-date">
            </div>
        </div>
        
        <!-- Add more filters as needed -->
    </div>

    <!-- Main Content Area -->
    <div class="content-area">
        <!-- Your main content goes here -->
    </div>
    </div>



    <!-- Main Part Tables -->



    <h1>NCBI Virus Data</h1>
    
    <!-- Filter inputs -->
    <div>
        <input type="text" id="accessionFilter" class="filter-input" placeholder="Filter by Accession">
        <input type="text" id="organismFilter" class="filter-input" placeholder="Filter by Organism Name">
        <input type="text" id="genbankFilter" class="filter-input" placeholder="Filter by GenBank/RefSeq">
        <input type="text" id="assemblyFilter" class="filter-input" placeholder="Filter by Assembly">
        <input type="text" id="submitterFilter" class="filter-input" placeholder="Filter by Submitter">
        <input type="text" id="organizationFilter" class="filter-input" placeholder="Filter by Organization">
    </div>
    
    <!-- Table to display data -->
    <table>
        <thead>
            <tr>
                <th>Accession</th>
                <th>Organism Name</th>
                <th>GenBank/RefSeq</th>
                <th>Assembly</th>
                <th>Submitter</th>
                <th>Organization</th>
            </tr>
        </thead>
        <tbody id="virusTableBody">
            {% for virus in viruses %}
            <tr>
                <td>{{ virus.accession }}</td>
                <td>{{ virus.organism_name }}</td>
                <td>{{ virus.genbank_refseq }}</td>
                <td>{{ virus.assembly }}</td>
                <td>{{ virus.submitter }}</td>
                <td>{{ virus.organization }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- JavaScript for filtering -->
    <script>
        // JavaScript function to filter the table
        document.addEventListener("DOMContentLoaded", function() {
            const filterFields = {
                accession: document.getElementById("accessionFilter"),
                organism: document.getElementById("organismFilter"),
                genbank: document.getElementById("genbankFilter"),
                assembly: document.getElementById("assemblyFilter"),
                submitter: document.getElementById("submitterFilter"),
                organization: document.getElementById("organizationFilter")
            };

            const tableRows = Array.from(document.querySelectorAll("#virusTableBody tr"));

            // Attach input event listener to each filter field
            Object.keys(filterFields).forEach(key => {
                filterFields[key].addEventListener("input", filterTable);
            });

            function filterTable() {
                const filters = {
                    accession: filterFields.accession.value.toLowerCase(),
                    organism: filterFields.organism.value.toLowerCase(),
                    genbank: filterFields.genbank.value.toLowerCase(),
                    assembly: filterFields.assembly.value.toLowerCase(),
                    submitter: filterFields.submitter.value.toLowerCase(),
                    organization: filterFields.organization.value.toLowerCase()
                };

                tableRows.forEach(row => {
                    const cells = row.querySelectorAll("td");
                    const rowData = {
                        accession: cells[0].textContent.toLowerCase(),
                        organism: cells[1].textContent.toLowerCase(),
                        genbank: cells[2].textContent.toLowerCase(),
                        assembly: cells[3].textContent.toLowerCase(),
                        submitter: cells[4].textContent.toLowerCase(),
                        organization: cells[5].textContent.toLowerCase()
                    };

                    // Check if the row should be displayed based on filter criteria
                    const matches = Object.keys(filters).every(key => {
                        return rowData[key].includes(filters[key]);
                    });

                    row.style.display = matches ? "" : "none";
                });
            }
        });


        document.querySelectorAll('.filter-toggle').forEach(button => {
        button.addEventListener('click', () => {
        const content = button.nextElementSibling;
        content.style.display = content.style.display === 'block' ? 'none' : 'block';
        button.classList.toggle('expanded');
    });
});
    </script>
</body>
</html>